var documenterSearchIndex = {"docs":
[{"location":"tutorial/#Tutorial","page":"Tutorial","title":"Tutorial","text":"","category":"section"},{"location":"tutorial/","page":"Tutorial","title":"Tutorial","text":"To use Jirachi, we need to import...","category":"page"},{"location":"tutorial/#Loading-light-curves","page":"Tutorial","title":"Loading light curves","text":"","category":"section"},{"location":"tutorial/","page":"Tutorial","title":"Tutorial","text":"# load light curves.\ni_lc = load_data(\"./data/montano_n1_i_4395.txt\", [1, 2, 3]; band=\"i\")\nz_lc = load_data(\"./data/montano_n1_z_4395.txt\", [1, 2, 3]; band=\"z\")\n\n# convert time to second, and start it from 0 second.\ni_lc.time = round.(i_lc.time * 24 * 3600, digits=2)\ni_lc.time = i_lc.time .- i_lc.time[1]\nz_lc.time = round.(z_lc.time * 24 * 3600, digits=2)\nz_lc.time = z_lc.time .- z_lc.time[1]","category":"page"},{"location":"tutorial/#Get-the-light-curves-binned","page":"Tutorial","title":"Get the light curves binned","text":"","category":"section"},{"location":"tutorial/","page":"Tutorial","title":"Tutorial","text":"t_binsize = 103.68\nlc_edges = bin_lc_edges(t_binsize, 0, 25000)\n\ni_lc_bin = bin_light_curve(i_lc; lc_edges = lc_edges)\nz_lc_bin = bin_light_curve(z_lc; lc_edges = lc_edges)\n\nlc1_bin, lc2_bin = get_common_lc(i_lc_bin, z_lc_bin)","category":"page"},{"location":"tutorial/#check-and-plot-it-!","page":"Tutorial","title":"check and plot it !","text":"","category":"section"},{"location":"tutorial/","page":"Tutorial","title":"Tutorial","text":"plotlc(i_lc, i_lc_bin, z_lc, z_lc_bin; \n  \t\tlabel=[i_lc.band, i_lc.band * \"_bin\", z_lc.band, z_lc.band * \"_bin\"], \n  \t\tlc_edges=lc_edges, \n  \t\tsave_fig_path=\"./fig/lc_check_i_z.svg\", \n  \t\tsave_fig=true, \n  \t\thwratio=0.3)","category":"page"},{"location":"tutorial/","page":"Tutorial","title":"Tutorial","text":"(Image: lc)","category":"page"},{"location":"tutorial/#Begin-calculating-structure-function!","page":"Tutorial","title":"Begin calculating structure function!","text":"","category":"section"},{"location":"tutorial/#input-parameters","page":"Tutorial","title":"input parameters","text":"","category":"section"},{"location":"tutorial/","page":"Tutorial","title":"Tutorial","text":"# structure function \nsf_bin = 0.05\nsf_bin_edges = 0:sf_bin:5 # in log space\nmode = \"both\" # lc bootstrapped for structure function error\nnsim = 1000 # lc bootstrapped for structure function error\nlower_bounds = [0, 0, 0, 0.001]\nupper_bounds = [10, 2e4, 2, 0.1]\np0 = [1, 1e3, 1, 0.005]\n\nt_fit = 10 .^ range(log10(1), log10(6e4), step=0.1)\n\n# color variation\ncv_bin = 0.1\ncv_bin_edges = 0:cv_bin:5 # in log space\nnsigma = 3\nerron=true\n\n# save all run results.\nfi_np::String=\"./data/run_i_z.h5\"\n","category":"page"},{"location":"tutorial/#Structure-function","page":"Tutorial","title":"Structure function","text":"","category":"section"},{"location":"tutorial/","page":"Tutorial","title":"Tutorial","text":"fit_sf1 = fitsf_mcmc(lc1_bin; nsim=nsim, lb = lower_bounds , ub = upper_bounds, sf_bin_edges=sf_bin_edges, p0=p0, mode = mode)\nfit_sf2 = fitsf_mcmc(lc2_bin; nsim=nsim, lb = lower_bounds, ub = upper_bounds, sf_bin_edges=sf_bin_edges, p0=p0, mode = mode)\n\nbinsf1, binsf2 = fit_sf1.binsf, fit_sf2.binsf\n\npar_1, par_1_err = fit_sf1.param, fit_sf1.param_err\npar_2, par_2_err = fit_sf2.param, fit_sf2.param_err\n\n\nt_break_1 = find_t_break(binsf1)\nt_break_2 = find_t_break(binsf2)\n\nitp1 = find_t_min(binsf1, par_1; t_fit=t_fit)\nitp2 = find_t_min(binsf2, par_2; t_fit=t_fit)\n\nt_min_1, sf_min_1 = itp1.t_min, itp1.sf_min\nt_min_2, sf_min_2 = itp2.t_min, itp2.sf_min\n\nt_fit_1, sf_fit_1 = itp1.t_fit, itp1.sf_fit\nt_fit_2, sf_fit_2 = itp2.t_fit, itp2.sf_fit\n\n\nproper_time = [maximum([t_min_1, t_min_2]), minimum([t_break_1, t_break_2])]","category":"page"},{"location":"tutorial/#and-show-it","page":"Tutorial","title":"and show it","text":"","category":"section"},{"location":"tutorial/","page":"Tutorial","title":"Tutorial","text":"plotsf(binsf1, binsf2; fitsf1=[t_fit_1, sf_fit_1], fitsf2=[t_fit_2, sf_fit_2], proper_time = proper_time)","category":"page"},{"location":"tutorial/","page":"Tutorial","title":"Tutorial","text":"(Image: sf)","category":"page"},{"location":"tutorial/#calculating-color-variation","page":"Tutorial","title":"calculating color variation","text":"","category":"section"},{"location":"tutorial/","page":"Tutorial","title":"Tutorial","text":"nsigma = nsigma\nerron = erron\n\n# cv in flux-Flux\ncv_flux_res = color_variation(lc1_bin, lc2_bin, nsigma, erron, \"flux\")\ncv_flux = cv_flux_res\n\nbincv_flux = binned_color_variation(cv_flux, cv_bin_edges)\n\n# cv in mag-mag\ncv_mag_res = color_variation(lc1_bin, lc2_bin, nsigma, erron, \"mag\")\ncv_mag = cv_mag_res\n\nbincv_mag = binned_color_variation(cv_mag, cv_bin_edges)","category":"page"},{"location":"tutorial/","page":"Tutorial","title":"Tutorial","text":"and plot it","category":"page"},{"location":"tutorial/","page":"Tutorial","title":"Tutorial","text":"(Image: cv)","category":"page"},{"location":"","page":"Home","title":"Home","text":"CurrentModule = Jirachi","category":"page"},{"location":"#Jirachi","page":"Home","title":"Jirachi","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Documentation for Jirachi.","category":"page"},{"location":"#some-functions","page":"Home","title":"some functions","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Modules = [Jirachi]","category":"page"},{"location":"#Jirachi.cv","page":"Home","title":"Jirachi.cv","text":"cv(tau, color)\n\nstructure for loading color variation temp results.\n\n\n\n\n\n","category":"type"},{"location":"#Jirachi.lightcurve","page":"Home","title":"Jirachi.lightcurve","text":"lightcurve(time, flux, err)\n\nstructure for loading light curve.\n\n\n\n\n\n","category":"type"},{"location":"#Jirachi.sf","page":"Home","title":"Jirachi.sf","text":"sf(tau, sf)\n\nstructure for loading structure function results.\n\n\n\n\n\n","category":"type"},{"location":"#Jirachi.find_t_min-Tuple{binned_result, Vector{Float64}}","page":"Home","title":"Jirachi.find_t_min","text":"find_t_min(data::binned_result, p::Vector{Float64}; noise_sigma=2, t_fit=10 .^ range(log10(1), log10(6e4), step=0.1))\n\nFind the minimum time.\n\n\n\n\n\n","category":"method"},{"location":"#Jirachi.lc_bootstrapped-Tuple{lightcurve}","page":"Home","title":"Jirachi.lc_bootstrapped","text":"lc_bootstrapped(data::lightcurve; seed=1, mode=\"both\")\n\nreturn bootstrapped light curves, input data must be with format of ::lc.  mode:      - 1, rss only     - 2, fr only     - 0, fr/rss\n\n\n\n\n\n","category":"method"},{"location":"#Jirachi.load_data","page":"Home","title":"Jirachi.load_data","text":"load_data(fi_np::String, usecols=[1, 2, 3]; band=[])\n\nLoading light curves from txt files.\n\n\n\n\n\n","category":"function"},{"location":"#Jirachi.percentile_16_50_84-Tuple{T} where T","page":"Home","title":"Jirachi.percentile_16_50_84","text":"percentile_16_50_84(array)\n\nreturn 16%, 50% and 84% values with given array.\n\n\n\n\n\n","category":"method"}]
}
